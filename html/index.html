<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>h5列表页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        
        body {
            background: rgb(240, 239, 245);
        }
        
        a {
            width: 100%;
            height: 4rem;
            background: #fff;
            margin-top: .5rem;
            display: block;
            line-height: 4rem;
            text-decoration: none;
            padding-left: 1rem;
        }
        /*http://wx.indoorun.com/indoorun/common/cheneapp/modules/sea.js*/
    </style>
    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.1.0.js"></script>
    <script type="text/javascript" src="../exclude/sea-debug.js"></script>
    <script>
        seajs.use(['../modules/loadmap.js','../moudules/idrBeaconManager.js'], function (YFMap, BeaconSignal) {

            (function () {
                var url = 'http://wx.indoorun.com/wx/getSign.html';
                jsLib.ajax({
                    type: "get",
                    dataType: 'jsonp',
                    url: url,
                    data: {
                        'appId': '2b497ada3b2711e4b60500163e0e2e6b'
                    },
                    timeOut: 10000,
                    success: function (data) {
                        succ && succ(data);
                    },
                    error: function (str) {
                        console.log(str);
                    }
                });
            } (succ));



            function succ(data) {

                console.log(data);

                var map = new YFMap();

                function mapLogic(data) {
                    console.log(data);
                }

                function errFn(data) {
                    console.log('错误：' + data);
                }

                function createDom(data) {
                    var arr = data.data;
                    console.log(data.data);
                    arr.forEach(function (obj) {
                        var oDiv = document.createElement('a');
                        oDiv.innerHTML = obj.name;
                        var href = 'http://wx.indoorun.com/indoorun/app/chene2/html/chene.htm?regionId=' + obj.id + '&floorId=' + obj.defaultFloorId;
                        oDiv.href = href;
                        document.body.appendChild(oDiv);
                    });

                }

            }

        });
    </script>
</head>

<body>
    <div style="width:100%; height:5rem; text-align: center; line-height: 5rem; font-size: 2rem;">H5 列表</div>
</body>

</html>